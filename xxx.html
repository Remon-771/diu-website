<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Administrator Class Routine</title>
  <link href="./output.css" rel="stylesheet" />
  <style>
    html, body { height: 100%; margin: 0; }
    .admin-badge { background: #2563eb; color: #fff; padding: 8px 20px; border-radius: 8px; font-weight: bold; margin-bottom: 10px; }
    .modal-bg { background: rgba(0,0,0,0.4); }
  </style>
</head>
<body class="font-sans">


<!-- TOP NAVIGATION -->
  <nav class="hidden md:flex h-6.5 bg-blue-800 items-center justify-center pl-[40%]">
    <div class="space-x-5 text-xs text-white">
      <a href="#">DIU NEWS</a>
      <a href="#">FORUM</a>
      <a href="student_info.html">STUDENTS</a>
      <a href="parent.html">PARENTS</a>
      <a href="teacher_info.html">TEACHERS</a>
      <a href="#">ALUMNI</a>
      <div class="relative inline-block">
        <button id="routineDropdownBtn" class="focus:outline-none">CLASS ROUTINE</button>
        <div id="routineDropdown" class="absolute left-0 mt-2 w-40 bg-white rounded shadow-lg z-50 hidden">
          <a href="routine.html" class="block px-4 py-2 text-blue-800 hover:bg-blue-100">Student</a>
          <a href="xxx.html" class="block px-4 py-2 text-blue-800 hover:bg-blue-100">Administrator</a>
        </div>
      </div>
      <a href="#">HELP DESK</a>
      <a href="#">SITEMAP</a>
    </div>
  </nav>

  <!-- SECOND NAVIGATION -->
  <section>
    <div class="h-18 w-full bg-white flex justify-evenly items-center">
      <!-- Mobile Menu Icon -->
      <div class="md:hidden">
        <button id="mobile-menu-btn" class="h-7 w-8 font-bold flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
        </button>
      </div>

      <!-- Logo -->
      <div>
        <a href="index.html">
          <img class="w-46 h-12 object-contain" src="./pic/Screenshot 2025-07-20 163353.png" alt="Logo" />
        </a>
      </div>

      <!-- Desktop Navigation Selects -->
      <div class="hidden md:flex text-base text-black border-none pr-7 space-x-2 justify-center">
        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Admissions</option>
          <option value="admissions/apply.html">Apply Now</option>
          <option value="admissions/requirements.html">Requirements</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Academics</option>
          <option value="academics/programs.html">Programs</option>
          <option value="academics/calendar.html">Academic Calendar</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Campus</option>
          <option value="campus/map.html">Campus Map</option>
          <option value="campus/facilities.html">Facilities</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Research</option>
          <option value="research/centers.html">Research Centers</option>
          <option value="research/publications.html">Publications</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>International</option>
          <option value="international/students.html">International Students</option>
          <option value="international/partnerships.html">Partnerships</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>About</option>
          <option value="about/overview.html">Overview</option>
          <option value="about/contact.html">Contact Us</option>
        </select>
      </div>

      <!-- Search + Login -->
      <div class="flex items-center space-x-6">
        <div>
          <a href="#">
            <svg class="w-6 h-10 hover:text-yellow-600" xmlns="http://www.w3.org/2000/svg"
              fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
            </svg>
          </a>
        </div>
        <div
          class="w-33 h-10 bg-blue-800 flex justify-center items-center text-white rounded-xl hover:bg-transparent ring-2 hover:border-yellow-500 hover:text-yellow-500 duration-600">
          <a href="login.html">Login</a>
        </div>
      </div>
    </div>

    <!-- MOBILE MENU -->
    <div id="mobile-menu" class="md:hidden hidden flex-col bg-blue-900 rounded-b-lg py-2 px-2 text-white absolute w-full z-50">
      <a href="#" class="block py-2 px-2">DIU NEWS</a>
      <a href="#" class="block py-2 px-2">FORUM</a>
      <a href="student_info.html" class="block py-2 px-2">STUDENTS</a>
      <a href="parent.html" class="block py-2 px-2">PARENTS</a>
      <a href="teacher_info.html" class="block py-2 px-2">TEACHERS</a>
      <a href="#" class="block py-2 px-2">ALUMNI</a>
      <button id="mobileRoutineBtn" class="block py-2 px-2 w-full text-left">CLASS ROUTINE</button>
      <div id="mobileRoutineModal" class="fixed inset-0 bg-transparent bg-opacity-40 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-lg p-6 w-64">
          <h2 class="text-lg font-bold mb-4 text-blue-700">Select Routine Type</h2>
          <a href="routine.html" class="block px-4 py-2 mb-2 bg-blue-800 text-white rounded hover:bg-blue-900 text-center">Student</a>
          <a href="xxx.html" class="block px-4 py-2 bg-blue-800 text-white rounded hover:bg-blue-900 text-center">Administrator</a>
          <button id="closeMobileRoutine" class="mt-4 px-3 py-1 rounded bg-gray-300 hover:bg-gray-400 w-full">Cancel</button>
        </div>
      </div>
      <a href="#" class="block py-2 px-2">HELP DESK</a>
      <a href="#" class="block py-2 px-2">SITEMAP</a>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Admissions</option>
          <option value="admissions/apply.html">Apply Now</option>
          <option value="admissions/requirements.html">Requirements</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Academics</option>
          <option value="academics/programs.html">Programs</option>
          <option value="academics/calendar.html">Academic Calendar</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Campus</option>
          <option value="campus/map.html">Campus Map</option>
          <option value="campus/facilities.html">Facilities</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Research</option>
          <option value="research/centers.html">Research Centers</option>
          <option value="research/publications.html">Publications</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>International</option>
          <option value="international/students.html">International Students</option>
          <option value="international/partnerships.html">Partnerships</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>About</option>
          <option value="about/overview.html">Overview</option>
          <option value="about/contact.html">Contact Us</option>
        </select>
      </div>
      <a href="#" class="block py-2 px-2">
        <svg class="w-6 h-6 hover:text-yellow-600 inline" xmlns="http://www.w3.org/2000/svg"
          fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
        </svg>
      </a>
      <div
        class="w-full h-10 bg-blue-800 flex justify-center items-center text-white rounded-xl hover:bg-transparent ring-2 hover:border-yellow-500 hover:text-yellow-500 duration-600 mt-2">
        <a href="login.html">Login</a>
      </div>
    </div>
  </section>

  <div class="w-full flex flex-col items-center mt-8 bg-gray-200  space-y-10">
    <span class="admin-badge">Administrator Panel</span>
    
    <!-- Modal for Add Info -->
    <div id="addModal" class="fixed inset-0 modal-bg flex items-center justify-center z-50 hidden">
      <div class="bg-white rounded-lg shadow-lg p-6 w-80">
        <h2 class="text-xl font-bold mb-4 text-blue-700">Set Routine Slot</h2>
        <form id="addForm">
          <div class="mb-2">
            <label class="block text-sm font-medium mb-1">Class Name</label>
            <input type="text" id="classInput" class="w-full border rounded px-2 py-1" required />
          </div>
          <div class="mb-2">
            <label class="block text-sm font-medium mb-1">Teacher Name</label>
            <input type="text" id="teacherInput" class="w-full border rounded px-2 py-1" required />
          </div>
          <div class="mb-2">
            <label class="block text-sm font-medium mb-1">Class Time</label>
            <input type="text" id="timeInput" class="w-full border rounded px-2 py-1" required placeholder="e.g. 8:00 - 9:30" />
          </div>
          <div class="mb-2">
            <label class="block text-sm font-medium mb-1">Room</label>
            <input type="text" id="roomInput" class="w-full border rounded px-2 py-1" required />
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-1">Subject</label>
            <input type="text" id="subjectInput" class="w-full border rounded px-2 py-1" required />
          </div>
          <div class="flex justify-end gap-2">
            <button type="button" id="cancelAdd" class="px-3 py-1 rounded bg-gray-300 hover:bg-gray-400">Cancel</button>
            <button type="submit" id="modalAddBtn" class="px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700">Add</button>
            <button type="button" id="modalUpdateBtn" class="px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700 hidden">Update</button>
            <button type="button" id="modalDeleteBtn" class="px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700 hidden">Delete</button>
          </div>
        </form>
      </div>
    </div>
    <div class="w-full max-w-6xl overflow-x-auto px-2 sm:px-4 md:px-0">
      <h1 class="text-3xl font-bold text-center mb-6 text-blue-800">Class Routine (6 Days, 7 Rooms)</h1>
      <table class="min-w-max w-full table-auto border border-gray-300 bg-white shadow-md rounded-lg">
        <thead>
          <tr class="bg-blue-600 text-white text-sm leading-normal">
            <th class="py-3 px-4 text-left">Day</th>
            <th class="py-3 px-4 text-left">Room 1</th>
            <th class="py-3 px-4 text-left">Room 2</th>
            <th class="py-3 px-4 text-left">Room 3</th>
            <th class="py-3 px-4 text-left">Room 4</th>
            <th class="py-3 px-4 text-left">Room 5</th>
            <th class="py-3 px-4 text-left">Room 6</th>
            <th class="py-3 px-4 text-left">Room 7</th>
          </tr>
        </thead>
        <tbody class="text-sm text-gray-700">
          <!-- 6 days, 7 rooms per day, each cell can hold multiple entries -->
          <tr class="border-b border-gray-200 hover:bg-gray-50"><td class="py-3 px-4 font-medium">Saturday</td>
            <td class="py-3 px-4" data-cell-index="0"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="1"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="2"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="3"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="4"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="5"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="6"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td></tr>
          <tr class="border-b border-gray-200 hover:bg-gray-50"><td class="py-3 px-4 font-medium">Sunday</td>
            <td class="py-3 px-4" data-cell-index="7"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="8"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="9"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="10"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="11"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="12"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="13"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td></tr>
          <tr class="border-b border-gray-200 hover:bg-gray-50"><td class="py-3 px-4 font-medium">Monday</td>
            <td class="py-3 px-4" data-cell-index="14"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="15"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="16"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="17"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="18"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="19"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="20"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td></tr>
          <tr class="border-b border-gray-200 hover:bg-gray-50"><td class="py-3 px-4 font-medium">Tuesday</td>
            <td class="py-3 px-4" data-cell-index="21"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="22"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="23"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="24"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="25"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="26"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="27"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td></tr>
          <tr class="border-b border-gray-200 hover:bg-gray-50"><td class="py-3 px-4 font-medium">Wednesday</td>
            <td class="py-3 px-4" data-cell-index="28"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="29"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="30"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="31"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="32"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="33"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="34"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td></tr>
          <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium">Thursday</td>
            <td class="py-3 px-4" data-cell-index="35"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="36"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="37"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="38"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="39"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="40"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td>
            <td class="py-3 px-4" data-cell-index="41"><div class="cell-entries"></div><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button></td></tr>
        </tbody>
      </table>
    </div>
  

  <script>
    // Mobile menu toggle
    document.getElementById('mobile-menu-btn').addEventListener('click', function() {
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });

    // Routine dropdown toggle
    document.getElementById('routineDropdownBtn').addEventListener('click', function() {
      document.getElementById('routineDropdown').classList.toggle('hidden');
    });

    // Mobile routine modal
    document.getElementById('mobileRoutineBtn').addEventListener('click', function() {
      document.getElementById('mobileRoutineModal').classList.remove('hidden');
    });

    document.getElementById('closeMobileRoutine').addEventListener('click', function() {
      document.getElementById('mobileRoutineModal').classList.add('hidden');
    });

    // Routine management functionality
    document.addEventListener('DOMContentLoaded', function() {
      const addModal = document.getElementById('addModal');
      const addForm = document.getElementById('addForm');
      const cancelAdd = document.getElementById('cancelAdd');
      const classInput = document.getElementById('classInput');
      const timeInput = document.getElementById('timeInput');
      const teacherInput = document.getElementById('teacherInput');
      const roomInput = document.getElementById('roomInput');
      const subjectInput = document.getElementById('subjectInput');
      const modalAddBtn = document.getElementById('modalAddBtn');
      const modalUpdateBtn = document.getElementById('modalUpdateBtn');
      const modalDeleteBtn = document.getElementById('modalDeleteBtn');
      
      let currentCell = null;
      let currentEntry = null;

      // Bind add buttons
      function bindAddButtons() {
        document.querySelectorAll('.add-btn').forEach(function(btn) {
          btn.addEventListener('click', function(e) {
            currentCell = btn.closest('td');
            currentEntry = null;
            addModal.classList.remove('hidden');
            classInput.value = '';
            timeInput.value = '';
            teacherInput.value = '';
            roomInput.value = currentCell.getAttribute('data-cell-index') ? 
              'Room ' + (parseInt(currentCell.getAttribute('data-cell-index')) % 7 + 1) : '';
            subjectInput.value = '';
            modalAddBtn.classList.remove('hidden');
            modalUpdateBtn.classList.add('hidden');
            modalDeleteBtn.classList.add('hidden');
          });
        });
      }

      // Cancel add modal
      cancelAdd.addEventListener('click', function() {
        addModal.classList.add('hidden');
      });

      // Form submit handler
      addForm.addEventListener('submit', function(e) {
        e.preventDefault();
        if (!currentCell) return;
        
        const className = classInput.value.trim();
        const teacher = teacherInput.value.trim();
        const time = timeInput.value.trim();
        const room = roomInput.value.trim();
        const subject = subjectInput.value.trim();
        
        const entriesDiv = currentCell.querySelector('.cell-entries');
        
        // Create entry element
        const entry = document.createElement('div');
        entry.className = 'routine-entry border-b border-gray-200 py-1 mb-2';
        entry.innerHTML = `
          <span class="block font-semibold">Class: ${className}</span>
          <span class="block">Teacher: ${teacher}</span>
          <span class="block">Time: ${time}</span>
          <span class="block">Room: ${room}</span>
          <span class="block">Subject: ${subject}</span>
          <div class="mt-1">
            <button class="text-blue-600 text-xs hover:underline update-btn">Update</button>
            <button class="text-red-600 text-xs hover:underline ml-2 delete-btn">Delete</button>
          </div>
        `;
        
        entriesDiv.appendChild(entry);
        addModal.classList.add('hidden');
        
        // Rebind all buttons
        bindAddButtons();
        bindDeleteButtons();
        bindUpdateButtons();
      });

      // Bind delete buttons
      function bindDeleteButtons() {
        document.querySelectorAll('.delete-btn').forEach(function(btn) {
          btn.addEventListener('click', function(e) {
            const entry = btn.closest('.routine-entry');
            if (entry) {
              entry.remove();
            }
          });
        });
      }

      // Bind update buttons
      function bindUpdateButtons() {
        document.querySelectorAll('.update-btn').forEach(function(btn) {
          btn.addEventListener('click', function(e) {
            const entry = btn.closest('.routine-entry');
            if (!entry) return;
            
            // Parse current info
            const spans = entry.querySelectorAll('span');
            const classText = spans[0].textContent.replace('Class: ', '');
            const teacherText = spans[1].textContent.replace('Teacher: ', '');
            const timeText = spans[2].textContent.replace('Time: ', '');
            const roomText = spans[3].textContent.replace('Room: ', '');
            const subjectText = spans[4].textContent.replace('Subject: ', '');
            
            // Set modal for update
            currentCell = btn.closest('td');
            currentEntry = entry;
            addModal.classList.remove('hidden');
            classInput.value = classText;
            teacherInput.value = teacherText;
            timeInput.value = timeText;
            roomInput.value = roomText;
            subjectInput.value = subjectText;
            modalAddBtn.classList.add('hidden');
            modalUpdateBtn.classList.remove('hidden');
            modalDeleteBtn.classList.remove('hidden');
          });
        });
      }

      // Update button handler
      modalUpdateBtn.addEventListener('click', function() {
        if (!currentEntry) return;
        
        const className = classInput.value.trim();
        const teacher = teacherInput.value.trim();
        const time = timeInput.value.trim();
        const room = roomInput.value.trim();
        const subject = subjectInput.value.trim();
        
        const spans = currentEntry.querySelectorAll('span');
        spans[0].textContent = 'Class: ' + className;
        spans[1].textContent = 'Teacher: ' + teacher;
        spans[2].textContent = 'Time: ' + time;
        spans[3].textContent = 'Room: ' + room;
        spans[4].textContent = 'Subject: ' + subject;
        
        addModal.classList.add('hidden');
      });

      // Delete button handler
      modalDeleteBtn.addEventListener('click', function() {
        if (currentEntry) {
          currentEntry.remove();
          addModal.classList.add('hidden');
        }
      });

      // Initial binding
      bindAddButtons();
      bindDeleteButtons();
      bindUpdateButtons();
    });
  </script>








</body>
</html>