<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Class Routine</title>
  <link href="./output.css" rel="stylesheet" />
</head>
<body class="bg-gray-100 min-h-screen antialiased">

<!-- TOP NAVIGATION -->
  <nav class="hidden md:flex h-6.5 bg-blue-800 items-center justify-center pl-[40%]">
    <div class="space-x-5 text-xs text-white">
      <a href="#">DIU NEWS</a>
      <a href="#">FORUM</a>
      <a href="student_info.html">STUDENTS</a>
      <a href="parent.html">PARENTS</a>
      <a href="teacher_info.html">TEACHERS</a>
      <a href="#">ALUMNI</a>
      <div class="relative inline-block">
        <button id="routineDropdownBtn" class="focus:outline-none">CLASS ROUTINE</button>
        <div id="routineDropdown" class="absolute left-0 mt-2 w-40 bg-white rounded shadow-lg z-50 hidden">
          <a href="routine.html" class="block px-4 py-2 text-blue-800 hover:bg-blue-100">Student</a>
          <a href="xxx.html" class="block px-4 py-2 text-blue-800 hover:bg-blue-100">Administrator</a>
        </div>
      </div>
      <a href="#">HELP DESK</a>
      <a href="#">SITEMAP</a>
    </div>
  </nav>

  <!-- SECOND NAVIGATION -->
  <section>
    <div class="h-18 w-full bg-white flex justify-evenly items-center">
      <!-- Mobile Menu Icon -->
      <div class="md:hidden">
        <button id="mobile-menu-btn" class="h-7 w-8 font-bold flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
        </button>
      </div>

      <!-- Logo -->
      <div>
        <a href="index.html#">
          <img class="w-46 h-12 object-contain" src="./pic/Screenshot 2025-07-20 163353.png" alt="Logo" />
        </a>
      </div>

      <!-- Desktop Navigation Selects -->
      <div class="hidden md:flex text-base text-black border-none pr-7 space-x-2 justify-center">
        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Admissions</option>
          <option value="admissions/apply.html">Apply Now</option>
          <option value="admissions/requirements.html">Requirements</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Academics</option>
          <option value="academics/programs.html">Programs</option>
          <option value="academics/calendar.html">Academic Calendar</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Campus</option>
          <option value="campus/map.html">Campus Map</option>
          <option value="campus/facilities.html">Facilities</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>Research</option>
          <option value="research/centers.html">Research Centers</option>
          <option value="research/publications.html">Publications</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>International</option>
          <option value="international/students.html">International Students</option>
          <option value="international/partnerships.html">Partnerships</option>
        </select>

        <select onchange="location.href=this.value" style="-webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: none; padding-right: 0.5rem;">
          <option selected disabled>About</option>
          <option value="about/overview.html">Overview</option>
          <option value="about/contact.html">Contact Us</option>
        </select>
      </div>

      <!-- Search + Login -->
      <div class="flex items-center space-x-6">
        <div>
          <a href="#">
            <svg class="w-6 h-10 hover:text-yellow-600" xmlns="http://www.w3.org/2000/svg"
              fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
            </svg>
          </a>
        </div>
        <div
          class="w-33 h-10 bg-blue-800 flex justify-center items-center text-white rounded-xl hover:bg-transparent ring-2 hover:border-yellow-500 hover:text-yellow-500 duration-600">
          <a href="login.html">Login</a>
        </div>
      </div>
    </div>

    <!-- MOBILE MENU -->
    <div id="mobile-menu" class="md:hidden hidden flex-col bg-blue-900 rounded-b-lg py-2 px-2 text-white absolute w-full z-50">
      <a href="#" class="block py-2 px-2">DIU NEWS</a>
      <a href="#" class="block py-2 px-2">FORUM</a>
      <a href="student_info.html" class="block py-2 px-2">STUDENTS</a>
      <a href="parent.html" class="block py-2 px-2">PARENTS</a>
      <a href="teacher_info.html" class="block py-2 px-2">TEACHERS</a>
      <a href="#" class="block py-2 px-2">ALUMNI</a>
      <button id="mobileRoutineBtn" class="block py-2 px-2 w-full text-left">CLASS ROUTINE</button>
      <div id="mobileRoutineModal" class="fixed inset-0 bg-transparent bg-opacity-40 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-lg p-6 w-64">
          <h2 class="text-lg font-bold mb-4 text-blue-700">Select Routine Type</h2>
          <a href="routine.html" class="block px-4 py-2 mb-2 bg-blue-800 text-white rounded hover:bg-blue-900 text-center">Student</a>
          <a href="xxx.html" class="block px-4 py-2 bg-blue-800 text-white rounded hover:bg-blue-900 text-center">Administrator</a>
          <button id="closeMobileRoutine" class="mt-4 px-3 py-1 rounded bg-gray-300 hover:bg-gray-400 w-full">Cancel</button>
        </div>
      </div>
      <a href="#" class="block py-2 px-2">HELP DESK</a>
      <a href="#" class="block py-2 px-2">SITEMAP</a>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Admissions</option>
          <option value="admissions/apply.html">Apply Now</option>
          <option value="admissions/requirements.html">Requirements</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Academics</option>
          <option value="academics/programs.html">Programs</option>
          <option value="academics/calendar.html">Academic Calendar</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Campus</option>
          <option value="campus/map.html">Campus Map</option>
          <option value="campus/facilities.html">Facilities</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>Research</option>
          <option value="research/centers.html">Research Centers</option>
          <option value="research/publications.html">Publications</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>International</option>
          <option value="international/students.html">International Students</option>
          <option value="international/partnerships.html">Partnerships</option>
        </select>
      </div>
      <div class="py-2">
        <select class="w-full text-black" onchange="location.href=this.value">
          <option disabled selected>About</option>
          <option value="about/overview.html">Overview</option>
          <option value="about/contact.html">Contact Us</option>
        </select>
      </div>
      <a href="#" class="block py-2 px-2">
        <svg class="w-6 h-6 hover:text-yellow-600 inline" xmlns="http://www.w3.org/2000/svg"
          fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
        </svg>
      </a>
      <div
        class="w-full h-10 bg-blue-800 flex justify-center items-center text-white rounded-xl hover:bg-transparent ring-2 hover:border-yellow-500 hover:text-yellow-500 duration-600 mt-2">
        <a href="login.html">Login</a>
      </div>
    </div>
  </section>






  <main class="w-full flex justify-center mt-8 bg-gray-200">
    <div class="w-full max-w-xs sm:max-w-md md:max-w-5xl overflow-x-auto px-2 sm:px-4 md:px-0">
      <h1 class="text-3xl font-bold text-center mb-6 text-blue-800">Class Routine</h1>
      <table class="min-w-max w-full table-auto border border-gray-300 bg-white shadow-md rounded-lg" aria-label="Class Routine Table">
        <thead>
          <tr class="bg-blue-600 text-white text-sm leading-normal">
            <th scope="col" class="py-3 px-4 text-left">Day</th>
            <th scope="col" class="py-3 px-4 text-left">8:00 - 9:30</th>
            <th scope="col" class="py-3 px-4 text-left">9:45 - 11:15</th>
            <th scope="col" class="py-3 px-4 text-left">11:30 - 1:00</th>
            <th scope="col" class="py-3 px-4 text-left">2:00 - 3:30</th>
            <th scope="col" class="py-3 px-4 text-left">3:45 - 5:15</th>
          </tr>
        </thead>
        <tbody class="text-sm text-gray-700">
          <!-- Generate rows for Saturday to Thursday -->
          <script>
            const days = ["Saturday", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday"];
            let cellIndex = 0;
            document.write(days.map(day => `
              <tr class="border-b border-gray-200 hover:bg-gray-50">
                <td class="py-3 px-4 font-medium">${day}</td>
                ${[...Array(5)].map(() => `
                  <td class="py-3 px-4" data-cell-index="${cellIndex++}">
                    -<br><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button>
                  </td>
                `).join('')}
              </tr>
            `).join(''));
          </script>
        </tbody>
      </table>
    </div>
  </main>

  <!-- Modal for Add/Update Info -->
  <div id="addModal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="addModalTitle">
    <div class="bg-white rounded-lg shadow-lg p-6 w-80">
      <h2 id="addModalTitle" class="text-xl font-bold mb-4 text-blue-700">Add Routine Info</h2>
      <form id="addForm" autocomplete="off">
        <div class="mb-2">
          <label for="roomInput" class="block text-sm font-medium mb-1">Room</label>
          <input type="text" id="roomInput" class="w-full border rounded px-2 py-1" required />
        </div>
        <div class="mb-2">
          <label for="subjectInput" class="block text-sm font-medium mb-1">Subject</label>
          <input type="text" id="subjectInput" class="w-full border rounded px-2 py-1" required />
        </div>
        <div class="mb-4">
          <label for="teacherInput" class="block text-sm font-medium mb-1">Teacher</label>
          <input type="text" id="teacherInput" class="w-full border rounded px-2 py-1" required />
        </div>
        <div class="flex justify-end gap-2">
          <button type="button" id="cancelAdd" class="px-3 py-1 rounded bg-gray-300 hover:bg-gray-400" aria-label="Cancel">Cancel</button>
          <button type="submit" class="px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700" aria-label="Add">Save</button>
        </div>
      </form>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
  let addModal = document.getElementById('addModal');
  let addForm = document.getElementById('addForm');
  let cancelAdd = document.getElementById('cancelAdd');
  let roomInput = document.getElementById('roomInput');
  let subjectInput = document.getElementById('subjectInput');
  let teacherInput = document.getElementById('teacherInput');
  let currentCell = null;

  // Event delegation for all buttons
  document.querySelector('tbody').addEventListener('click', function (e) {
    let btn = e.target;

    // ADD
    if (btn.classList.contains('add-btn')) {
      currentCell = btn.closest('td');
      roomInput.value = '';
      subjectInput.value = '';
      teacherInput.value = '';
      addModal.classList.remove('hidden');
      roomInput.focus();
    }

    // UPDATE
    if (btn.classList.contains('update-btn')) {
      currentCell = btn.closest('td');
      let info = currentCell.querySelector('.slot-info');
      let html = info?.innerHTML || '';
      let room = html.match(/Room: (.*?)<br>/)?.[1] || '';
      let subject = html.match(/Subject: (.*?)<br>/)?.[1] || '';
      let teacher = html.match(/Teacher: (.*?)($|<br>)/)?.[1] || '';
      roomInput.value = room;
      subjectInput.value = subject;
      teacherInput.value = teacher;
      addModal.classList.remove('hidden');
    }

    // DELETE
    if (btn.classList.contains('delete-btn')) {
      currentCell = btn.closest('td');
      currentCell.innerHTML = `-<br><button class="mt-1 text-green-600 text-xs hover:underline add-btn">Add</button>`;
    }
  });

  // FORM SUBMIT (add/update)
  addForm.onsubmit = function (e) {
    e.preventDefault();
    if (!currentCell) return;

    let room = roomInput.value.trim();
    let subject = subjectInput.value.trim();
    let teacher = teacherInput.value.trim();

    currentCell.innerHTML = `
      <span class="slot-info">Room: ${room}<br>Subject: ${subject}<br>Teacher: ${teacher}</span>
      <div class="mt-1 flex gap-2">
        <button class="text-blue-600 text-xs hover:underline update-btn">Update</button>
        <button class="text-red-600 text-xs hover:underline delete-btn">Delete</button>
      </div>
    `;
    addModal.classList.add('hidden');
  };

  // CANCEL
  cancelAdd.onclick = function () {
    addModal.classList.add('hidden');
  };
});
</script>

  <!-- SCRIPT -->
  <script>
    // Mobile menu toggle
    document.getElementById('mobile-menu-btn').onclick = function () {
      var menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
    };
    // Desktop CLASS ROUTINE dropdown
    var routineDropdownBtn = document.getElementById('routineDropdownBtn');
    var routineDropdown = document.getElementById('routineDropdown');
    if (routineDropdownBtn && routineDropdown) {
      routineDropdownBtn.onclick = function (e) {
        e.stopPropagation();
        routineDropdown.classList.toggle('hidden');
      };
      document.addEventListener('click', function (e) {
        if (!routineDropdown.contains(e.target) && e.target !== routineDropdownBtn) {
          routineDropdown.classList.add('hidden');
        }
      });
    }
    // Mobile CLASS ROUTINE modal
    var mobileRoutineBtn = document.getElementById('mobileRoutineBtn');
    var mobileRoutineModal = document.getElementById('mobileRoutineModal');
    var closeMobileRoutine = document.getElementById('closeMobileRoutine');
    if (mobileRoutineBtn && mobileRoutineModal && closeMobileRoutine) {
      mobileRoutineBtn.onclick = function () {
        mobileRoutineModal.classList.remove('hidden');
      };
      closeMobileRoutine.onclick = function () {
        mobileRoutineModal.classList.add('hidden');
      };
      mobileRoutineModal.onclick = function (e) {
        if (e.target === mobileRoutineModal) {
          mobileRoutineModal.classList.add('hidden');
        }
      };
    }
  </script>
  <script src="script.js"></script>


</body>
</html>
